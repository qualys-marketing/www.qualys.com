"use strict";window.qualys=window.qualys||{},window.qualys.marketo=window.qualys.marketo||{};function sanitize(e){var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return e.replace(/[&<>"'/]/ig,function(e){return a[e]})}(function(e,a,t,n,o){"use strict";/*
	 * auto-fill empty fields like fields on 2nd panel of 2-panel form
	 * map some ZoomInfo fields to Qualys Marketo fields
	 */e.mapZoomInfoFields=function(e){console.log(h),e.getFormElem().find(":input:not([type=hidden])").each(function(){var t=a(this).attr("name");a(this).val()&&(""!==a(this).val().trim()||"State"===t||"Email"===t)||e.getFormElem().find("#"+t).val(h[t]).trigger("change")}),e.getFormElem().find("#State").val(g[h.State]).trigger("change");var t=e.getFormElem().find("#Company_Size_Range__c_account");if(""===t.val()){var n="";250>=h["Num Employees"]?n="1-250":5e3>=h["Num Employees"]?n="251-5000":5e3<h["Num Employees"]&&(n="5000+"),t.val(n).trigger("change")}},e.loadZoomInfo=function(t){function n(a){h=a,e.mapZoomInfoFields(t)}/*
			When development mode is disabled,
			-No more than 5 requests allowed in 10 minutes from the email address
			-No more than 30 requests allowed in an hour from the same IP address
			otherwise, you'll get CORS error
			When developing, enable dev mode below and test using full-match@zoominfo.com
			When testing locally, use local.dev.qualys.com:3000 as that's configured in ZoomInfo
		*/var o,i,l;// get leadsource value from the url
// do not execute zoominfo functionality if the url contains specific partner leadsource
if((o=qualys.parseQueryString(window.location.search),i=o.leadsource,l=["344572624"],!(i&&"string"==typeof i&&l.includes(i)))&&0===a("[src$='formcomplete.js']").length){var r=!1;("localhost"===window.location.host||"local.dev.qualys.com"===window.location.host)&&(r=!0),window._zi={development:r,formId:"9xIPVjQNxHniLRwBwvNW",callbacks:{onMatch:n}};var m=document.createElement("script");m.type="text/javascript",m.async=!0,m.src="https://ws-assets.zoominfo.com/formcomplete.js";var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(m,d)}},e.preselectLocation=function(e){e.whenReady(function(){a(window).trigger("hashchange"),a(window).on("hashchange",function(){0<document.referrer.indexOf("berlin")||"#berlin"===window.location.hash?(a("option[value=berlin]").prop("selected",!0),a("#qsc_location_title").text("Berlin")):0<document.referrer.indexOf("munich")||"#munich"===window.location.hash?(a("option[value=munich]").prop("selected",!0),a("#qsc_location_title").text("Munich")):0<document.referrer.indexOf("paris")||"#paris"===window.location.hash?(a("option[value=paris]").prop("selected",!0),a("#qsc_form_title, .q-square__content .heading--3").text("Inscription"),a(".mktoForm .mktoButton").text("Inscription"),a("#qsc_register_text_fr").removeClass("qsc-register__text--hidden").show(),a("#qsc_register_text_en").addClass("qsc-register__text--hidden")):0<document.referrer.indexOf("london")||"#london"===window.location.hash?(a("option[value=london]").prop("selected",!0),a("#qsc_location_title").text("London")):0<document.referrer.indexOf("san-francisco")||"#san-francisco"===window.location.hash?a("option[value='san-francisco']").prop("selected",!0):0<document.referrer.indexOf("mumbai")||"#mumbai"===window.location.hash?a("option[value=mumbai]").prop("selected",!0):0<document.referrer.indexOf("dubai")||"#dubai"===window.location.hash?a("option[value=dubai]").prop("selected",!0):0<document.referrer.indexOf("las-vegas")||"#las-vegas"===window.location.hash?a("option[value=las-vegas]").prop("selected",!0):0<document.referrer.indexOf("new-york")||"#new-york"===window.location.hash?a("option[value=new-york]").prop("selected",!0):0<document.referrer.indexOf("atlanta")||"#atlanta"===window.location.hash?a("option[value=atlanta]").prop("selected",!0):0<document.referrer.indexOf("chicago")||"#chicago"===window.location.hash?a("option[value=chicago]").prop("selected",!0):0<document.referrer.indexOf("singapore")||"#singapore"===window.location.hash?a("option[value=singapore]").prop("selected",!0):(0<document.referrer.indexOf("sydney")||"#sydney"===window.location.hash)&&a("option[value=sydney]").prop("selected",!0)})})},e.addQscLocationField=function(e){e.whenReady(function(){0<window.location.pathname.indexOf("berlin")?a("input[name=\"Event_Location\"]").prop("value","berlin"):0<window.location.pathname.indexOf("paris")?(a("input[name=\"Event_Location\"]").prop("value","paris"),a("button.mktoButton").text("Inscription")):0<window.location.pathname.indexOf("london")?a("input[name=\"Event_Location\"]").prop("value","london"):0<window.location.pathname.indexOf("munich")?a("input[name=\"Event_Location\"]").prop("value","munich"):0<window.location.pathname.indexOf("dubai")?a("input[name=\"Event_Location\"]").prop("value","dubai"):0<window.location.pathname.indexOf("mumbai")?a("input[name=\"Event_Location\"]").prop("value","mumbai"):0<window.location.pathname.indexOf("san-francisco")&&a("input[name=\"Event_Location\"]").prop("value","san francisco")})},e.addQuantcastOrderId=function(e){var t;t=window.qualys.utils.generateUUID(),0<a("input[name=\"quantcastOrderID\"], input[name=\"Quantcast_Order_Id__c\"]").length?(a("input[name=\"quantcastOrderID\"]").prop("value",t),a("input[name=\"Quantcast_Order_Id__c\"]").prop("value",t)):(e.getFormElem().append("<input type=\"hidden\" name=\"quantcastOrderID\" value=\""+t+"\" />"),e.getFormElem().append("<input type=\"hidden\" name=\"Quantcast_Order_Id__c\" value=\""+t+"\" />"))},e.addGtmLoadedValue=function(e){var a=!1;window.dataLayer!==void 0&&2<window.dataLayer.length&&(a=!0),e.addHiddenFields({gTMLoaded:a})},e.addBlackListedValue=function(e){var t=!1,n=e.getFormElem().find("#Country"),o="";if(n.length){e.addHiddenFields({blackListed:t});var i=e.getFormElem().find("[name='blackListed']");a(document).on("change",n,function(){o=n.val(),t=!("Russian Federation"!==o&&"Belarus"!==o),i.val(t)})}},e.addDntCookieValue=function(e){var a="Not Set",t=window.qualys.parseCookieString(document.cookie);t.forEach(function(e){"dnt"===e.name&&("0"===e.value?a="Opt In":"1"===e.value&&(a="Opt Out"))}),e.addHiddenFields({gDPRCookieConsent:a})},e.autoFillupForm=function(e){var a,t,n,o,i,l,r,s,m,d,u,c,p,h,g,f,v,y,k,E,C,F,b,L,T,w,S;a=qualys.parseQueryString(window.location.search),t=a.leadsource,t&&"string"==typeof t&&(n=a.x,n&&"string"==typeof n&&(o=window.atob(n),i=qualys.parseQueryString(o),d=sanitize(i.email),l=sanitize(i.fname),s=sanitize(i.lname),c=sanitize(i.cname),h=sanitize(i.title),f=sanitize(i.phone),y=sanitize(i.country),E=sanitize(i.state),F=sanitize(i.size),L=sanitize(i.account),d&&"string"==typeof d&&(u=e.getFormElem().find("#Email"),u.length&&u.val(d)),l&&"string"==typeof l&&(r=e.getFormElem().find("#FirstName"),r.length&&r.val(l)),s&&"string"==typeof s&&(m=e.getFormElem().find("#LastName"),m.length&&m.val(s)),c&&"string"==typeof c&&(p=e.getFormElem().find("#Company"),p.length&&p.val(c)),L&&"string"==typeof L&&(T=e.getFormElem().find("[name='qualysAccount']"),T.length&&(w=e.getFormElem().find(".qualysAccount label:first-child"),S=e.getFormElem().find(".qualysAccount label:last-child"),"yes"===L?w.trigger("click"):"no"===L&&S.trigger("click"))),h&&"string"==typeof h&&(g=e.getFormElem().find("#Title"),g.length&&g.val(h)),f&&"string"==typeof f&&(v=e.getFormElem().find("#Phone"),v.length&&v.val(f)),y&&"string"==typeof y&&e.getFormElem().hasClass("show-next-panel")&&(k=e.getFormElem().find("#Country"),k.length&&k.val(y).trigger("change")),E&&"string"==typeof E&&(C=e.getFormElem().find("#State"),C.length&&C.val(E)),F&&"string"==typeof F&&(b=e.getFormElem().find("#Company_Size_Range__c_account"),b.length&&b.val(F))))},e.warnBeforeLeaving=function(a){var t=!1;a.onSubmit(function(){t=!0}),window.addEventListener("beforeunload",function(n){var e=!1,o=a.getValues();if(o&&["FirstName","LastName","Email","Company","Title","Phone","Country"].forEach(function(a){void 0!==o[a]&&""!==o[a]&&(e=!0)}),e&&!t){// https://stackoverflow.com/questions/40570164/how-to-customize-the-message-changes-you-made-may-not-be-saved-for-window-onb
//Gecko + IE
return(n||window.event).returnValue="Custom message no longer shown","Custom message no longer shown";//Gecko + Webkit, Safari, Chrome etc.
}})},e.filterFields=function(){// trim form values and replace multiple spaces with 1 space
// lowercase email address field
// camelcase name fields
a("form.mktoForm input").on("blur",function(e){var t=a.trim(a(e.currentTarget).val());t=t.replace(/\s+/gi," "),a(e.currentTarget).val(t)}),a("form.mktoForm #Email").on("blur",function(e){var t=a(e.currentTarget).val().toLowerCase();a(e.currentTarget).val(t)}),a("form.mktoForm #FirstName, form.mktoForm #LastName").on("blur",function(e){var t=a(e.currentTarget).val();t=t.split(" ").map(function(e){if(e[0]!==void 0)return e[0].toUpperCase()+e.slice(1)}).join(" "),a(e.currentTarget).val(t)}),a("form.mktoForm").on("fieldsFilled",function(){a("form.mktoForm #FirstName, form.mktoForm #LastName").trigger("blur")})};var i,l,r,s,m,d,u,c,p,h,g,f="",v="",y=!1;// AJAX in the list of free email domain names
// function to translate / localize error messages
// the parameter "object" takes a JSON object containing optional parameters
// e.g. {"minValue" : 2, "maxValue" : 4}
// validate email length
// 254 octets, maximum according to RFC 5321
// it is not 320 octets as originally specified in RFC 3696, which has been corrected to 254 octets
// 100 octets, maximum specified by Qualys Engineering
// validate phone
// validate job title
// validate username
// get user's platform based on username
// as of May 2, 2018, this is only used on the CertView and CloudView forms
// Marketo sandbox form ID 2133
// Marketo production form ID 2470
// validate length
// validate a hidden field value against a Unicode regex
// requires XRegExp 3.0.0 library
// https://github.com/slevithan/xregexpd
// validate numeric value
// validate country
// validate state
// validate trial packages
// validate company size
// validate name of guests
// if number of guests > 0, then make textarea field required
// do basic form field validation
// get valid countries
// get valid US states
// get valid Canadian states
// get valid countries
// call various helper functions
// function to count # of bytes in a string
// http://stackoverflow.com/questions/2848462/count-bytes-in-textarea-using-javascript/12206089#12206089
/*
	 * set field value based on URL
	 * mainly used to set asset id NetSuite and SalesForce
	 * also used to set Company Size Range
	 * can be used to set any field by update the fieldValuesByPath
	 */ /*
	 * account for special case on the trial form
	 * like Do you have a Qualys account?
	 * like Select a Qualys Trial package:
	 * Are you a Security Consultant?
	 */ // set user's country and state based on ip address
// this code reasonably assumes that geoip gets loaded from GTM which runs before marketo.js
// change field values based on Qualys policies
// display warning to encourage users to enter company email address
// cleanup HTML and CSS from Marketo
// embed Marketo form in HTML page
/*
	 * pre-fill Marketo form fields
	 * http://developers.marketo.com/blog/external-page-prefill/
	 */g={Alabama:"AL",Alaska:"AK",Arizona:"AZ",Arkansas:"AR",California:"CA",Colorado:"CO",Connecticut:"CT",Delaware:"DE","District of Columbia":"DC",Florida:"FL",Georgia:"GA",Hawaii:"HI",Idaho:"ID",Illinois:"IL",Indiana:"IN",Iowa:"IA",Kansas:"KS",Kentucky:"KY",Louisiana:"LA",Maine:"ME",Maryland:"MD",Massachusetts:"MA",Michigan:"MI",Minnesota:"MN",Mississippi:"MS",Missouri:"MO",Montana:"MT",Nebraska:"NE",Nevada:"NV","New Hampshire":"NH","New Jersey":"NJ","New Mexico":"NM","New York":"NY","North Carolina":"NC","North Dakota":"ND",Ohio:"OH",Oklahoma:"OK",Oregon:"OR",Pennsylvania:"PA","Rhode Island":"RI","South Carolina":"SC","South Dakota":"SD",Tennessee:"TN",Texas:"TX",Utah:"UT",Vermont:"VT",Virginia:"VA",Washington:"WA","West Virginia":"WV",Wisconsin:"WI",Wyoming:"WY"},p=["lps.qualys.com","www.ssllabs.com","dev.ssllabs.com"],-1!==p.indexOf(window.location.hostname)&&(v="https://www.qualys.com"),a.ajax({url:v+"/asset/data/domain-names-with-free-email.json",dataType:"json",success:function success(e){f=e},error:function error(e,a,t){throw new Error("".concat(t,": ").concat(e.responseText))}}),d={en:{invalidEmail:"Must be a valid email address, e.g. example@yourdomain.com",invalidDisposableEmail:"Must be a valid, non-disposable email address",emailTooLong:"Email address is too long",emailInvalidDomain:"Email address must have a valid domain name",workEmailRequired:"Use company email. Or contact tar@qualys.com",phoneTooShort:"Phone number cannot be that short",phoneTooLong:"Phone number cannot be that long",phoneExtTooShort:"Phone extension cannot be that short",phoneExtToolong:"Phone extension cannot be that long",minMaxLength:"Must be between {minLength} and {maxLength} characters long",minMaxValue:"Must be between {minValue} and {maxValue}",invalidValue:"Invalid value",updateAccount:"Update Account",usOnly:"This option is only available in the United States",invalidFullName:"Must be both first and last name",useCommunityEdition:"For students, we recommend <a href='https://www.qualys.com/community-edition/'>Qualys Community Edition</a> \u2013 a free version of the Qualys Cloud Platform"},fr:{invalidEmail:"Doit \xEAtre une adresse email correcte, par ex. votrenom@votrenomdedomaine.com.",emailTooLong:"Adresse \xE9lectronique est trop long.",emailInvalidDomain:"Adresse \xE9lectronique doit avoir une name. de domaine valide.",workEmailRequired:"Si vous avez besoin d'aide, contactez tar@qualys.com.",PhoneTooShort:"T\xE9l\xE9phone ne peut \xEAtre que short.",PhoneTooLong:"T\xE9l\xE9phone ne peut \xEAtre que long.",phoneExtTooShort:"T\xE9l\xE9phone extension ne peut \xEAtre que short.",phoneExtToolong:"T\xE9l\xE9phone extension ne peut \xEAtre que long.",minMaxLength:"Doit comprendre entre {longueurmin} et {longueurmax} caract\xE8res.",minMaxValue:"Doit \xEAtre entre {Valeurmin} et {Valeurmax}.",invalidValue:"Valeur incorrecte",updateAccount:"Mettre \xE0 jour le compte",usOnly:"This option is only available in the United States.",invalidFullName:"Must be both first and last name",useCommunityEdition:"For students, we recommend <a href='https://www.qualys.com/community-edition/'>Qualys Community Edition</a> \u2013 a free version of the Qualys Cloud Platform."},de:{invalidEmail:"Muss eine g\xFCltige E-Mail-Adresse sein, z.B. example@yourdomain.com.",emailTooLong:"E-Mail zu long.",emailInvalidDomain:"E-Mail m\xFCssen einen g\xFCltigen Domain-name.",workEmailRequired:"Bei Fragen kontaktieren Sie bitte tar@qualys.com.",PhoneTooShort:"Telefonnummer nicht, dass short. sein",PhoneTooLong:"Telefonnummer nicht, dass long. sein",phoneExtTooShort:"Telefonnummer Erweiterung kann nicht short sein.",phoneExtToolong:"Telefonnummer Erweiterung kann nicht long sein.",minMaxLength:"Muss zwischen {minLength} und {maxLength} Zeichen lang sein.",minMaxValue:"Muss zwischen {minValue} und {maxValue} liegen.",invalidValue:"Ung\xFCltiger Wert",updateAccount:"Konto aktualisieren",usOnly:"This option is only available in the United States.",invalidFullName:"Must be both first and last name",useCommunityEdition:"For students, we recommend <a href='https://www.qualys.com/community-edition/'>Qualys Community Edition</a> \u2013 a free version of the Qualys Cloud Platform."},es:{invalidEmail:"Must be a valid email address, e.g. example@yourdomain.com.",emailTooLong:"Electronico es muy largo.",emailInvalidDomain:"Electronico address debe tener un dominio v\xE1lido name.",workEmailRequired:"Para m\xE1s informaci\xF3n, no dude en contactarnos en tar@qualys.com.",PhoneTooShort:"N\xFAmero de tel\xE9fono es muy corto.",PhoneTooLong:"N\xFAmero de tel\xE9fono es muy largo.",phoneExtTooShort:"N\xFAmero de tel\xE9fono extensi\xF3n es muy corto.",phoneExtToolong:"N\xFAmero de tel\xE9fono extensi\xF3n es muy largo.",minMaxLength:"Must be between {minLength} and {maxLength} characters long.",minMaxValue:"Must be between {minValue} and {maxValue}.",invalidValue:"Invalid value",updateAccount:"Update Account",usOnly:"This option is only available in the United States.",invalidFullName:"Must be both first and last name",useCommunityEdition:"For students, we recommend <a href='https://www.qualys.com/community-edition/'>Qualys Community Edition</a> \u2013 a free version of the Qualys Cloud Platform."},ru:{invalidEmail:"Must be a valid email address, e.g. example@yourdomain.com.",emailTooLong:"\u0410\u0434\u0440\u0435\u0441 \u044D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0439 \u043F\u043E\u0447\u0442\u044B \u0441\u043B\u0438\u0448\u043A\u043E\u043C long.",emailInvalidDomain:"\u0410\u0434\u0440\u0435\u0441 \u044D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0439 \u043F\u043E\u0447\u0442\u044B \u0434\u043E\u043B\u0436\u043D\u044B \u0438\u043C\u0435\u0442\u044C \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0439 name. \u043E\u0431\u043B\u0430\u0441\u0442\u0438",workEmailRequired:"\u0417\u0430 \u043F\u043E\u043C\u043E\u0449\u044C\u044E \u043E\u0431\u0440\u0430\u0449\u0430\u0439\u0442\u0435\u0441\u044C \u043D\u0430 tar@qualys.com.",PhoneTooShort:"\u0422\u0435\u043B\u0435\u0444\u043E\u043D \u043D\u0435 \u043C\u043E\u0436\u0435\u0442 \u0431\u044B\u0442\u044C, \u0447\u0442\u043E short.",PhoneTooLong:"\u0422\u0435\u043B\u0435\u0444\u043E\u043D \u043D\u0435 \u043C\u043E\u0436\u0435\u0442 \u0431\u044B\u0442\u044C, \u0447\u0442\u043E long.",phoneExtTooShort:"\u0422\u0435\u043B\u0435\u0444\u043E\u043D \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043D\u0438\u0435 \u043D\u0435 \u043C\u043E\u0436\u0435\u0442 \u0431\u044B\u0442\u044C, \u0447\u0442\u043E short.",phoneExtToolong:"\u0422\u0435\u043B\u0435\u0444\u043E\u043D \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043D\u0438\u0435 \u043D\u0435 \u043C\u043E\u0436\u0435\u0442 \u0431\u044B\u0442\u044C, \u0447\u0442\u043E long.",minMaxLength:"Must be between {minLength} and {maxLength} characters long.",minMaxValue:"Must be between {minValue} and {maxValue}.",invalidValue:"Invalid value",updateAccount:"\u041E\u0431\u043D\u043E\u0432\u0438\u0442\u044C \u0430\u043A\u043A\u0430\u0443\u043D\u0442",usOnly:"This option is only available in the United States.",invalidFullName:"Must be both first and last name",useCommunityEdition:"For students, we recommend <a href='https://www.qualys.com/community-edition/'>Qualys Community Edition</a> \u2013 a free version of the Qualys Cloud Platform."}},c={"Express Lite":{Marketing_Asset_Id_Current__c:"306",last_mkt_asset:"306",Company_Size_Range__c_account:"1-250"},Express:{Marketing_Asset_Id_Current__c:"306",last_mkt_asset:"306",Company_Size_Range__c_account:"251-5000"},Enterprise:{Marketing_Asset_Id_Current__c:"305",last_mkt_asset:"305",Company_Size_Range__c_account:"5000+"},Consultant:{Marketing_Asset_Id_Current__c:"308",last_mkt_asset:"308",Company_Size_Range__c_account:"Security Consultant"},"Federal Government":{Marketing_Asset_Id_Current__c:"359",last_mkt_asset:"359",Company_Size_Range__c_account:"Federal Government"},"1-250":{Marketing_Asset_Id_Current__c:"306",last_mkt_asset:"306"},"251-5000":{Marketing_Asset_Id_Current__c:"306",last_mkt_asset:"306"},"5000+":{Marketing_Asset_Id_Current__c:"305",last_mkt_asset:"305"},"Security Consultant":{Marketing_Asset_Id_Current__c:"308",last_mkt_asset:"308"}},e.t=function(e,t){var n,o,i,l;for(l in o="en",i=a("body"),i.hasClass("fr")&&(o="fr"),i.hasClass("de")&&(o="de"),i.hasClass("es")&&(o="es"),i.hasClass("ru")&&(o="ru"),n=d[o][e],t)t.hasOwnProperty(l)&&(n=n.replace("{"+l+"}",t[l]));return n},e.validateEmail=function(t){var n,o,i;// get all field values
if(n=t.getValues(),void 0!==n.Email){if(i=n.Email.split("@")[0],o=n.Email.split("@")[1],null===n.Email.match(/[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}/gi)&&u.push({"[name='Email']":e.t("invalidEmail")}),100<e.getUTF8Length(n.Email)&&u.push({"[name='Email']":e.t("emailTooLong")}),253<e.getUTF8Length(o)&&u.push({"[name='Email']":e.t("emailTooLong")}),64<e.getUTF8Length(i)&&u.push({"[name='Email']":e.t("emailTooLong")}),o&&"qualys.com"!==o.trim()){// exclude qualys.com emails for testing
var l=t.getFormElem().find("#Email").attr("data-zi-neverbounce-status");void 0!==l&&""!==l.trim()&&(0<a("input[name=\"neverBounceResultStatus\"]").length?a("input[name=\"neverBounceResultStatus\"]").prop("value",l):t.getFormElem().append("<input type=\"hidden\" name=\"neverBounceResultStatus\" value=\""+l+"\" />"),["invalid","disposable"].includes(l),window.ga&&window.ga("send",{hitType:"event",eventCategory:"Form Progression",eventAction:"Info: NeverBounce result is "+l,eventLabel:"Email",nonInteraction:!0}))}if(void 0!==o){if(null===o.match(/^[A-Za-z0-9\-.]+$/)&&u.push({"[name='Email']":e.t("emailInvalidDomain")}),null!==o.match(/\.{2}/)&&u.push({"[name='Email']":e.t("emailInvalidDomain")}),("qualys.com"===o&&("info"===i||"sales"===i||"sales-triage-group"===i||"salesinquiry"===i||"tar"===i||"web-dev"===i||"webmaster"===i?u.push({"[name='Email']":e.t("invalidEmail")}):void 0),-1!==window.location.pathname.indexOf("/forms/freescan/"))){// FreeScan forms only accept corporate email addresses unless the country is US or UK
// AJAX in the free email domain names
var r=a("#Country").val();""!==r&&"United States"!==r&&"United Kingdom (GB)"!==r&&-1!==a.inArray(o,f)&&u.push({"[name='Email']":e.t("workEmailRequired")})}// block personal emails on all forms except some
// the Community Edition form (2470) blocks personal email address but allows .edu ones
// since the blacklist doesn't contain any .edu email addresses
-1===a.inArray(o,f)||[1226,3500,3754].includes(t.getId())||u.push({"[name='Email']":e.t("workEmailRequired")}),1803===t.getId()&&o.includes(".edu")&&(u.push({"[name='Email']":e.t("useCommunityEdition")}),t.getFormElem().find("[type='submit'].mktoButton").addClass("disabled"),t.submitable(!1))}}},e.validatePhone=function(n){var o,i,l,r,s,m;// get all field values
o=n.getValues(),i=l="",o.Phone!==void 0&&(null===o.Phone.match(/x/i)?""!==a.trim(o.Phone)&&(r=a.trim(o.Phone).length):(o.Phone=o.Phone.replace("X","x"),i=o.Phone.split("x")[0],l=o.Phone.split("x")[1],""!==a.trim(i)&&(r=i.replace(/\D/gi,"").length),""!==a.trim(l)&&(s=l.replace(/\D/gi,"").length)),m=new t("^[\\p{Number}\\p{Punctuation}\\p{Math_Symbol}\\p{Space_Separator}ext]+$","i"),!m.test(o.Phone)&&u.push({"[name='Phone']":e.t("invalidValue")}),7>r&&u.push({"[name='Phone']":e.t("phoneTooShort")}),15<r&&u.push({"[name='Phone']":e.t("phoneTooLong")}),0!==s&&2>s&&u.push({"[name='Phone']":e.t("phoneExtTooShort")}),0!==s&&4<s&&u.push({"[name='Phone']":e.t("phoneExtToolong")}))},e.validateJobTitle=function(a){var t;// get all field values
t=a.getValues(),t.Title!==void 0&&("student"===t.Title.toLowerCase()&&"308"===t.Marketing_Asset_Id_Current__c?(u.push({"[name='Title']":e.t("useCommunityEdition")}),a.getFormElem().find("[type='submit'].mktoButton").addClass("disabled"),a.submitable(!1)):a.getFormElem().find("[type='submit'].mktoButton").removeClass("disabled"))},e.validateUsername=function(a){var n,o,i,l;// get all field values
n=a.getValues(),n.Qualys_Username__c!==void 0&&(i=!1,o=new t("^\\p{L}{1,5}[_235897!-]\\p{L}{2}\\d{0,2}$","i"),!o.test(n.Qualys_Username__c)&&(i=!0),l=!1,-1===window.location.pathname.indexOf("forms/pci-compliance")?i&&u.push({"[name='Qualys_Username__c']":e.t("invalidValue")}):(-1===n.Qualys_Username__c.indexOf("@")&&(l=!0),l&&i&&u.push({"[name='Qualys_Username__c']":e.t("invalidValue")})))},e.getPlatform=function(e){var a,t;return a={_:"US Platform 1",2:"US Platform 2",3:"US Platform 3","-":"EU Platform 1",5:"EU Platform 2","!":"EU Platform 2",8:"IN Platform 1"},void 0!==e.Qualys_Username__c&&6<=e.Qualys_Username__c.length&&(t=e.Qualys_Username__c.slice(5,6),e.Qualys_Username_Platform__c=a[t]),e},e.validateLength=function(a,t,n,o){var i,l,r,s;// get all field values
r="[name='"+t+"']",i=a.getValues(),i[t]!==void 0&&(l=i[t].length,(l<n||l>o)&&(s={},s[r]=e.t("minMaxLength",{minLength:n,maxLength:o}),u.push(s)))},e.validateUnicodeRegexField=function(a,n,o){var i,l,r,s;// get all field values
r="[name='"+n+"']",l=new t(o),i=a.getValues(),i[n]!==void 0&&""!==i[n]&&!1===l.test(i[n])&&(s={},s[r]="fullNameForForms"===n?e.t("invalidFullName"):e.t("invalidValue"),u.push(s))},e.validateNumericValue=function(t,n,o,i){var l,r,s;r="[name='"+n+"']",l=t.getValues();// get form id
var m=t.getId();l[n]!==void 0&&(a.isNumeric(l[n])?(l[n]<o||l[n]>i)&&(s={},s[r]=e.t("minMaxValue",{minValue:o,maxValue:i}),u.push(s)):3079===m?u.push({"[name='Number_of_Remote_Endpoints__c']":e.t("invalidValue")}):3357===m&&u.push({"[name='Number_of_Assets__c']":e.t("invalidValue")}))},e.validateCountry=function(t){// only validate country if it's a select dropdown field
if(a("[name='Country']").get(0)!==void 0&&"SELECT"===a("[name='Country']").get(0).tagName){var n;// get all field values
n=t.getValues(),n.Country!==void 0&&0<l.length&&(-1===a.inArray(n.Country,l)||-1<n.Country.indexOf("---"))&&u.push({"[name='Country']":e.t("invalidValue")})}},e.validateState=function(t){function n(){-1===a.inArray(o.State,i)&&u.push({"[name='State']":e.t("invalidValue")})}// only validate state if it's a select dropdown field
if(a("[name='State']").get(0)!==void 0&&"SELECT"===a("[name='State']").get(0).tagName){var o,i;// get all field values
o=t.getValues(),o.State!==void 0&&((r===void 0||s===void 0)&&a("#Country").trigger("change"),"United States"===o.Country?(i=r,n()):"Canada"===o.Country?(i=s,n()):a("[name='State']").val(""))}},e.validateTrialPackage=function(t){var n;// get all field values
// if user changes the country field, Marketo triggers multiple validations displaying duplicate error messages. this code removes these invalid and duplicate errors.
n=t.getValues(),"Federal Government"===n.formTrialPackageType&&"United States"!==n.Country&&u.push({"[name='formTrialPackageType']":e.t("usOnly")}),a("#Country").on("change",function(){a(".mktoRadioList.formTrialPackageType .mktoError").remove()})},e.validateCompanySize=function(t){var n;// get all field values
n=t.getValues(),n.company_size_range!==void 0&&-1===a.inArray(n.company_size_range,m)&&u.push({"[name='company_size_range']":e.t("invalidValue")})},e.validateNameOfGuests=function(a){var t;// get all field values
t=a.getValues(),0<parseInt(t.numberofGuests)&&""===t.nameofGuests.trim()&&u.push({"[name='nameofGuests']":e.t("invalidValue")})},e.postFilterFields=function(){// decode URL fields
a("form.mktoForm #kw, form.mktoForm #leadsource, form.mktoForm #link, form.mktoForm #referer, form.mktoForm #lsid").each(function(e,t){var n=decodeURIComponent(a(t).val());a(t).val(n)})},e.basicValidation=function(t){var n,o;// fix bug with lp pages
// if custom email error message exists in addition to other error messages,
// only show custom email error message until user fixes the error
if(i=!0,u=[],n=t.getId(),e.validateEmail(t),e.validatePhone(t),1226!==n&&(e.validateLength(t,"FirstName",0,50),e.validateLength(t,"LastName",0,50)),3500===n&&e.validateNameOfGuests(t),e.validateLength(t,"Company",0,70),e.validateLength(t,"Title",0,100),e.validateJobTitle(t),e.validateNumericValue(t,"LeadSource",1,9999999999),e.validateNumericValue(t,"Number_of_Remote_Endpoints__c",1,25e4),e.validateNumericValue(t,"Number_of_Assets__c",1,25e4),e.validateCountry(t),e.validateState(t),e.validateTrialPackage(t),e.validateCompanySize(t),e.validateUsername(t),3014===n&&e.validateUnicodeRegexField(t,"fullNameForForms","\\pL+\\p{Zs}+\\pL+"),e.validateUnicodeRegexField(t,"FirstName","\\pL+"),e.validateUnicodeRegexField(t,"LastName","\\pL+"),e.validateUnicodeRegexField(t,"kw","^\\PC+$"),e.validateUnicodeRegexField(t,"referer","^\\PC+$"),e.postFilterFields(),1<u.length&&-1!==window.location.pathname.indexOf("/lp/")){var l;// loop over errors array
a.each(u,function(e,t){a.each(t,function(e){"[name='Email']"===e&&(l=t)})}),u=[],u.push(l)}// for 2-panel forms
// remove panel 2 errors in the errors array if user is still on panel 1
1===a(".show-first-panel").length&&a.each(u,function(e,t){a.each(t,function(t){0===a(".panel1 "+t).length&&u.splice(e,1)})}),0<u.length&&(i=!1,console.log(u),a.each(u,function(e,n){a.each(n,function(e,i){o=t.getFormElem().find(e),"hidden"===o.prop("type")?console.error(n):(a(o).addClass("mktoInvalid").removeClass("mktoValid"),o=t.getFormElem().find(e),t.showErrorMessage(i,o))})}));// FOR DEBUGGING
/*$(".mktoButton").on("click", function () {
			console.log(JSON.parse(JSON.stringify(errors)));
		});*/ // move custom trial package error message to where we want it
var r=a(".mktoRadioList.formTrialPackageType label .mktoError").detach();return a(".mktoRadioList.formTrialPackageType").append(r),t.submitable(i),i},e.getValidCountries=function(){var e;return l=[],e=a("#Country option"),l=a.map(e,function(e){return e.value}),o.uniq(l)},e.getValidUsStates=function(){var e;return r=[],e=a("#State option"),r=a.map(e,function(e){return e.value}),r},e.getValidCanadianStates=function(){var e;return s=[],e=a("#State option"),s=a.map(e,function(e){return e.value}),s},e.getValidCompanySize=function(){var e;return m=[],e=a("#company_size_range option"),m=a.map(e,function(e){return e.value}),m},e.setup=function(t){var n,o,i;// move state field into the Marketo row with the country field on layout2 (wide) forms
n=!1,o=!1,e.getValidCountries(t),e.getValidCompanySize(t),n&&o||a("[name='State']").get(0)===void 0||"SELECT"!==a("[name='State']").get(0).tagName||(a(document).on("focus","#State",function(){1==a("#State option[value='CA']").length?(e.getValidUsStates(t),n=!0):(e.getValidCanadianStates(t),o=!0)}),a("#Country").on("change",function(i){"United States"!==a(i.currentTarget).val()||n?"Canada"===a(i.currentTarget).val()&&!o&&(e.getValidCanadianStates(t),o=!0):(e.getValidUsStates(t),n=!0)})),i=a("#Country").parents(".mktoFormCol").get(0),a(".layout2 #State").parents(".mktoFormCol").insertAfter(i)},e.getUTF8Length=function(e){var a,t,n;if(a=0,void 0!==e)for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),127>=t?a+=1:2047>=t?a+=2:55296<=t&&57343>=t?(a+=4,n+=1):65535>t?a+=3:a+=4;return a},e.updateFormValueMapping=function(e,a){var t,n;if(null!==a)if(t=c[a],!t);else// loop over values and set matching keys in form values
for(n in t)t.hasOwnProperty(n)&&t[n]&&e.hasOwnProperty(n)&&(e[n]=t[n]);return e},e.handleTrialForm=function(t){var n;return n=a("input[name=\"qualysAccount\"]:checked").val(),n&&n.match(/Yes/i)?t=e.updateFormValueMapping(t,"Express"):t.formTrialPackageType&&(t=e.updateFormValueMapping(t,t.formTrialPackageType)),t},e.setLocation=function(e){// to prevent infinite call loop
function t(e){e.submitable(!0),e.submit()}function n(){e.getFormElem().find("[name=City]").val(m),e.getFormElem().find("[name=formIPCity]").val(m),e.getFormElem().find("[name=State]").val(r),e.getFormElem().find("[name=formIPState]").val(r),e.getFormElem().find("[name=PostalCode]").val(s),e.getFormElem().find("[name=formIPPostalCode]").val(s),e.getFormElem().find("[name=Country]").val(l),e.getFormElem().find("[name=formIPCountry]").val(l),e.getFormElem().find("[name=companyfromIP]").val(d),e.getFormElem().find("[name=formIPCompanyname]").val(d),a(document).trigger("location-data-loaded")}// if geoip2 call is successful
function o(a){if(a&&a.traits&&a.traits.ip_address){// save location data in local storage
var o="maxmind.geoip2.data."+a.traits.ip_address;localStorage.setItem(o,JSON.stringify(a)),r=a.subdivisions[0].iso_code,m=a.city.names.en,s=a.postal.code,d=a.traits.organization,n(),t(e)}}// if geoip2 call return error
function i(a){console.log(a.code+": "+a.error),t(e)}// only run this code on forms that contain hidden Country field
var l,r,s,m,d;if(r="",s="",m="",d="",y=!0,0<a("[type=hidden][name=Country]").length){// get ip address from session storage
var u=sessionStorage.getItem("ipify.ip",u);// if ip address exists in session storage
if(u){// get location data from local storage
var c=localStorage.getItem("maxmind.geoip2.data."+u);c&&(c=JSON.parse(c),l=c.country.names.en,n(),"United States"===l||"Canada"===l?c.subdivisions?(r=c.subdivisions[0].iso_code,m=c.city.names.en,s=c.postal.code,d=c.traits.organization,n()):window.geoip2&&(e.submitable(!1),window.geoip2.city(o,i)):n())}}},e.alterFormValues=function(e){var t,n,o;t=e.getId(),n=e.getValues(),n=window.qualys.marketo.updateFormValueMapping(n,window.location.pathname);// if marketing asset ID is specified in form tag, use it
// this is used on Brightedge pages, e.g. /content/* or /offers/*
var i=e.getFormElem().attr("data-asset-id");i&&(n.Marketing_Asset_Id_Current__c=i),a("[id^=mktoForm]").each(function(e,t){a.each(t.attributes,function(e,a){if(0<=a.name.indexOf("data-input")){var t=a.name.replace("data-input-","");for(var o in n)o.toLowerCase()===t.toLowerCase()&&(n[o]=a.value)}})}),a("[id=Phone]").attr("maxlength","15"),a("[type=hidden]").each(function(e,t){a(t).parent(".mktoFormRow").addClass("hidden")}),o=1798===t||1815===t||1816===t||2486===t||2632===t||2399===t||3193===t,o&&(n=window.qualys.marketo.handleTrialForm(n));// handle forms that set asset ID based on company size range
var l=e.getFormElem().attr("data-input-assetIdFromCompanySize");if(l){// update form values
var r=e.getFormElem().find("[name=Company_Size_Range__c_account]").val();n=window.qualys.marketo.updateFormValueMapping(n,r)}// update form with user's platform
n=window.qualys.marketo.getPlatform(n),e.setValues(n),a(document).trigger("alterFormValuesComplete")},e.showCompanyEmailWarning=function(e){// function to check and show the email domain warning
function t(){a("div.mktoError.warning.email").remove();var e,t;e=a("#Email").val(),t=e.split("@")[1],-1!==a.inArray(t,f)&&a("#Email").after(r)}var n=!1;// check email domain on all non-whitepaper forms
if(-1===a.inArray(e,["1806","1807","1808","1874","1643","1625","1611","1803"])&&(n=!0,-1!==window.location.pathname.indexOf("/lp/")&&(n=!1),-1!==window.location.pathname.indexOf("/forms/freescan/")))// also, if form is a FreeScan form and the country is not US or UK or "", don't check email domain
{var i=a("#Country").val();""!==i&&"United States"!==i&&"United Kingdom (GB)"!==i&&(n=!1)}if(n){var l,r;// save HTML of warning message
r="\t\t\t<div class=\"mktoError warning email\">\t\t\t<div class=\"mktoErrorArrowWrap\">\t\t\t<div class=\"mktoErrorArrow\"></div>\t\t\t</div>\t\t\t<div class=\"mktoErrorMsg\">Company email preferred. <a class=\"close-button\">Dismiss</a></div>\t\t\t</div>",a(document).on("click","div.mktoError.email .close-button",function(){a("div.mktoError.warning.email").remove()}),l=o.debounce(t,250),a("#Email").on("blur",function(){t()}),a("#Email").on("keypress",l),a("#Country").on("change",function(){a("div.mktoError.warning.email").remove(),window.qualys.marketo.showCompanyEmailWarning()})}},e.cleanMarketoHTMLAndCSS=function(){// remove Marketo CSS
// remove style tag inside Marketo forms
// remove inline style from Marketo elements
// add unique class to each form row container
// put checkboxes and radio buttons inside their labels
// remove all Marketo asterix
// add class to empty Marketo lables
// add class to labels for checkbox lists and radio button lists
a("link[rel=\"stylesheet\"]").each(function(e,t){a(t).attr("href").match(/(lps\.qualys|\.marketo)\.com\/.*\.css$/)&&a(t).remove()}),a(".mktoForm style").remove(),a(".mktoForm, .mktoForm *").each(function(e,t){a(t).attr("style",null)}),a(".mktoField").each(function(e,t){var n=a(t).attr("name");a(t).parents(".mktoFormRow").addClass(n)}),a(".mktoCheckboxList input, .mktoRadioList input").each(function(e,t){var n,o;n=a(t).parents().find("label[for=\""+t.id+"\"]").get(0),o=a(t).attr("name"),a(t).parent(".mktoRadioList").addClass(o),a(t).parent(".mktoCheckboxList").addClass(o),n&&(a(n).prepend(t),a(n).attr("for",null))}),a(".mktoAsterix").remove(),a(".mktoLabel:empty").addClass("qmktoLabelEmpty"),a(".mktoCheckboxList").siblings(".mktoLabel").addClass("qmktoCheckboxListLabel"),a(".mktoRadioList").siblings(".mktoLabel").addClass("qmktoRadioListLabel"),a(document).trigger("cleanMarketoHTMLAndCSSComplete")},e.embedForm=function(){var t,o,i,l,r;// if data-load-form-in-page attribute is not found, load Marketo form below
// otherwise, form is being loaded in page (in the HTML)
// the following conditional block is needed to support Marketo forms in BridgeEdge pages
// qualys.com/offer, qualys.com/content
// which don't use the form.hbs partial
if(0===a("[data-load-form-in-page]").length){if(t=a("form[id^='mktoForm']"),0<t.length){if(o=t.get()[0].id,i=parseInt(o.replace("mktoForm_",""),10),isNaN(i))throw new Error("Marketo form ID not found!");i=i.toString()}else throw new Error("Marketo form not found!");l=t.attr("data-baseurl"),r=t.attr("data-munchkinid"),l||(l="//lps.qualys.com"),r||(r="797-ENI-742"),n.loadForm(l,r,i)}n.whenReady(function(t){// remove CSS injected by Marketo Sandbox
/*
			 * when the form is submitted, change the asset ID
			 */setTimeout(function(){a("link[rel=stylesheet][id~=\"mktoForms2BaseStyle\"]").remove(),a("link[rel=stylesheet][id~=\"mktoForms2ThemeStyle\"]").remove()},0),window.qualys.marketo.alterFormValues(t),e.warnBeforeLeaving(t),e.loadZoomInfo(t),t.onValidate(function(e){window.qualys.marketo.alterFormValues(t);var a=window.qualys.marketo.basicValidation(t);console.log("builtInMarketoValidation = "+e),console.log("customValidation = "+a)}),t.onSubmit(function(e){window.qualys.marketo.alterFormValues(e);var a=e.getId();// for forms that don't have visible country and state fields
// remove button label
2760!==a&&1801!==a||y||window.qualys.marketo.setLocation(e),setTimeout(function(){e.getFormElem().find("[type=submit][disabled]").each(function(e,a){a.innerText=""})},0)}),t.onSuccess(function(){t.getFormElem().find("[type=submit]").each(function(e,t){a(t).addClass("success"),t.innerText="Success"});var e=t.getId();if(2878===e){// for QSC registration form, redirect to confirm page based on user-selected location
var n=t.getFormElem().find("[name=Event_Location] option:selected").val();window.location=window.location.pathname+n.replace(" ","-")+"/confirm/"}else// for all other forms
if(2760===e&&self!==top)// For ITAM form in iframe, redirect to parent confirm page
window.top.location=window.top.location.pathname+"confirm";else{// get form's confirmation URL from data-confirm attribute
var o=t.getFormElem().attr("data-confirm");// wait a moment before redirecting to allow GTM tags to fire
setTimeout(function(){if(void 0!==o&&""!==o)window.location=o;else{var e=window.location.search;// Take the lead to a different page on successful submit, ignoring the form's configured followUpUrl.
window.location=window.location.pathname+"confirm/"+e}},200)}// return false to prevent the submission handler continuing with its own processing
return!1})}),n.whenRendered(function(t){// function to add class "invalid" or "valid" if form field is invalid or valid
function o(){setTimeout(function(){a(".mktoFormRow").removeClass("invalid valid"),a(".mktoFormRow").each(function(e,t){0!==a(t).find(".mktoError").length&&"none"!==a(t).find(".mktoError").css("display")?a(t).addClass("invalid"):0!==a(t).find(".mktoValid").length&&a(t).addClass("valid")})},100)}// call function when any form input blurs or is clicked on
var i=t.getId();if(void 0!==h&&e.mapZoomInfoFields(t),0<a("#Title").length)if(window.qualys.loadJobTitles)window.qualys.loadJobTitles(window.qualys.getLanguage());else throw new Error("job-title-auto-complete.js is probably missing");window.qualys.marketo.setup(t),window.qualys.marketo.cleanMarketoHTMLAndCSS(),window.qualys.marketo.filterFields(),t.getFormElem().find(":input, select").on("blur, click",o),a(document).on("keyup",function(a){9==a.which&&o()}),a("[for=\"requestedaTrial\"]").parents(".mktoFormRow").detach().insertBefore("div.mktoButtonRow"),0===a("form .panel2").length&&a("[for=\"communicationConsent\"]").parents(".mktoFormRow").detach().insertBefore("div.mktoButtonRow"),a(document).on("change","[name=communicationConsent]",function(){if(0<a("[name=communicationConsent]:checked").length){var e=new Date().toISOString();t.getFormElem().find("[name=communicationConsentDateTime]").val(e)}else t.getFormElem().find("[name=communicationConsentDateTime]").val("null")}),-1!==a.inArray(i,[2275,2403,2747,2612,2878])&&(window.qualys.marketo.preselectLocation(n),window.qualys.marketo.addQscLocationField(n)),2612!==i&&(a("option[value=\"san-francisco\"]").attr("disabled","disabled").detach().appendTo("#Event_Location"),a("option[value=\"paris\"]").attr("disabled","disabled").detach().appendTo("#Event_Location"),a("option[value=\"munich\"]").attr("disabled","disabled").detach().appendTo("#Event_Location"),a("option[value=\"berlin\"]").attr("disabled","disabled").detach().appendTo("#Event_Location"),a("option[value=\"london\"]").attr("disabled","disabled").detach().appendTo("#Event_Location"),a("option[value=\"vegas\"]").attr("disabled","disabled").detach().appendTo("#Event_Location")),a("input[type=\"radio\"]").on("change",function(e){var t=a(e.currentTarget).attr("name");a(".mktoRadioList."+t+" label.checked").removeClass("checked"),a(e.currentTarget).parent("label").addClass("checked")}),"/apps/vulnerability-management-detection-response/mobile-devices/"===window.location.pathname&&(a(document).on("alterFormValuesComplete",function(){0===a(".fieldsWrapper").length&&(a(".mktoFormRow.qualysAccount, \t\t\t\t\t\t\t.mktoFormRow.Number_of_Mobile_Devices__c").wrapAll("<div class=\"fieldsWrapperTop\" />"),a(".mktoFormRow.FirstName, \t\t\t\t\t\t\t.mktoFormRow.LastName, \t\t\t\t\t\t\t.mktoFormRow.Email, \t\t\t\t\t\t\t.mktoFormRow.Company").wrapAll("<div class=\"fieldsWrapperLeft\" />"),a(".mktoFormRow.Title, \t\t\t\t\t\t\t.mktoFormRow.Phone, \t\t\t\t\t\t\t.mktoFormRow.Country, \t\t\t\t\t\t\t.mktoFormRow.Company_Size_Range__c_account").wrapAll("<div class=\"fieldsWrapperRight\" />"),a(".fieldsWrapperLeft, \t\t\t\t\t\t\t.fieldsWrapperRight").wrapAll("<div class=\"fieldsWrapper\" />"),720>window.innerWidth&&a(".fieldsWrapper").addClass("hidden"))}),a("[name='qualysAccount']").on("click",function(){var e=a(this).val();// add a class to adjust alignment of username and # mobiles fields
"yes"===e?a(".mktoForm").addClass("hasAccount"):a(".mktoForm").removeClass("hasAccount"),720>window.innerWidth&&"no"===e&&a(".fieldsWrapper").removeClass("hidden")})),a("input[type=\"checkbox\"]:not(.q-bound)").on("change",function(e){var t=a(e.currentTarget).attr("id"),n=a("#"+t).parents("label");n.hasClass("checked")?n.removeClass("checked"):n.addClass("checked")}).addClass("q-bound"),window.qualys.marketo.addQuantcastOrderId(t),window.qualys.marketo.addGtmLoadedValue(t),window.qualys.marketo.addBlackListedValue(t),window.qualys.marketo.addDntCookieValue(t),window.qualys.marketo.autoFillupForm(t);// initialize overlays in Marketo forms
//window.qualys.overlay.setup();
// re-enable submit button if job title is not student,
// this is for if submit button was disabled due to job title = student and asset ID = 308 (consultant edition)
var l=t.getValues(),r=t.getFormElem().find("[type='submit'].mktoButton");t.getFormElem().find("#Title").on("blur",function(){var e;e=l.Title,"student"!==e.toLowerCase()&&r.removeClass("disabled")}),t.getFormElem().find(".mktoRadioList.formTrialPackageType").on("change",function(){window.qualys.marketo.alterFormValues(t);var e;e=l.Marketing_Asset_Id_Current__c,"308"!==e&&r.removeClass("disabled")})})},e.prefillMarketoForm=function(){// only call the proxy if the Marketo tracking cookie is present
if(document.cookie.match(/_mkto_trk=/)){// call proxy PHP script and get lead data to pre-fill Marketo form
var e="";-1!==["lps.qualys.com","www.ssllabs.com","dev.ssllabs.com"].indexOf(window.location.hostname)&&(e="https://www.qualys.com");var t=e+"/marketo/get-lead-by-cookie.php";a.ajax({url:t,dataType:"json",success:function success(e){var t;// check if Marketo says the request was successful
e.success?0<e.result.length&&e.result[0]&&(t=e.result[0],n.whenReady(function(e){var n=e.getId();// only prefill forms other than event registration forms
if(-1===a.inArray(n,[2747])){var o;// map the results from the REST call to the corresponding field name on the form
// because some field names need have their first letter uppercased to match the Marketo form field names
// pass the new values into the form.vals method to fill the fields
// Note, this method is recommend by Marketo
// Note, it may override values the visitor has already typed in
o=Object.keys(t).reduce(function(e,a){var n;return n=a.match(/^(communicationConsentDateTime|communicationConsent|id|cookies|utm|[A-Z])/)?a:a.charAt(0).toUpperCase()+a.slice(1),e[n]=t[a],e},{}),e.vals(o),a("form.mktoForm").trigger("fieldsFilled"),0<a("[name=communicationConsent]:checked").length&&e.getFormElem().find(".mktoFormRow.communicationConsent").addClass("hidden")}})):e.errors.forEach(function(e){throw new Error(e.message)})},error:function error(e,a,n){throw new Error("".concat(n,": ").concat(t))}})}}})(window.qualys.marketo,jQuery,XRegExp,MktoForms2,_),jQuery(document).ready(window.qualys.marketo.embedForm);
//# sourceMappingURL=marketo.js.map